{
  "template": "## CREDIT ASSIGNMENT EVALUATION\n\nYou are evaluating EACH INDIVIDUAL piston's contribution to team success in **Pistonball**, a cooperative multi-agent control task.\n\nACTION SPACE REMINDER:\n- Actions are DISCRETE and each piston selects exactly one action per timestep:\n  - 0 = RETRACT_DOWN\n  - 1 = STAY\n  - 2 = PUSH_UP\n- Pistons can only move vertically\n- Vertical actions indirectly influence the ball's horizontal (leftward) movement\n\nGLOBAL OBJECTIVE REMINDER:\n- All pistons share a single global reward\n- The team succeeds by pushing the ball to the LEFT boundary (x = 0)\n- Credit assignment should reflect how each piston contributed to coordinated leftward motion\n\nTRAJECTORY:\n{trajectory}\n\n## EVALUATION TASK\n\nProvide **SEPARATE feedback** for **EACH of the {num_pistons} pistons**.  \nYou **MUST** evaluate each piston individually with its own section.\n\n### Required Format\n\nFormat your response with evaluation markers for **EACH piston** using the exact format:\n\n{piston_eval_format}\n\nFor **each piston**, conduct the following analysis:\n\n- Were the selected discrete actions (**RETRACT / STAY / PUSH**) appropriate given the piston’s position relative to the ball?\n- How did this piston’s actions influence the ball’s **leftward progress** toward the goal?\n- If the piston was **near the ball**, did it coordinate effectively with its immediate neighbors to form a **left-sloping surface**?\n- When the ball was **not locally visible**, did the piston continue **retracting downward** appropriately?\n\n---\n\n## Required Situational Coverage\n\n1. When the piston is on the left of the ball; 2. When the piston is on the right of the ball; When the ball is not visible to the piston\n\nTake into account the piston’s **spatial role relative to the ball**:\n- Piston is on the left/right of the ball  \n\n---\n\n## Reward and Penalty Guidelines\n\n### Reward actions that:\n- Support the formation of a **left-sloping surface**:\n  - Pistons to the **left of the ball** retract downward\n  - Pistons to the **right of the ball** push upward\nVERY IMPORTANT: Directional Coordination (Core Rule)\nIf a piston is ON THE LEFT of the ball → the ONLY correct supportive action is: RETRACT_DOWN (0)\nIf a piston is ON THE RIGHT of the ball → the ONLY correct supportive action is: PUSH_UP (2)\n- Continue **retracting downward** when the ball is not within local observation\n\n### Penalize actions that:\n- Disrupt or prevent the formation of a **left-sloping surface**\n- Push upward **unnecessarily** when there is no direct interaction with the ball\n\n---\n\n## Feedback Expectations\n\n- Provide **clear, actionable feedback**\n- Focus on improving **each piston’s individual policy**\n- Assume:\n  - Pistons act **solely based on local observations**\n  - **No communication** between pistons\n  - **No access** to global or additional information\n"
}